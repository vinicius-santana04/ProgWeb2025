<div class="container my-5" style="max-width: 600px;">
    <h2>Editar Usuário: {{userToEdit.name}}</h2>
    <p class="text-muted">Você está editando os dados como "administrador".</p>

    {{#if error}}
        <div class="alert alert-danger">{{error}}</div>
    {{/if}}

    <form action="/users/update/{{userToEdit.id}}" method="POST" class="mt-4">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="name" name="name" value="{{userToEdit.name}}" required>
            <label for="name">Nome Completo</label>
        </div>

        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="email" name="email" value="{{userToEdit.email}}" required>
            <label for="email">Email</label>
        </div>

        <div class="form-floating mb-4">
            <select class="form-select" id="majorId" name="majorId" required>
                {{#each majors}}
                    <option value="{{this.id}}" {{#if (eq this.id ../userToEdit.majorId)}}selected{{/if}}>
                        {{this.name}}
                    </option>
                {{/each}}
            </select>
            <label for="majorId">Curso</label>
        </div>

        <p class="text-danger mt-4"><i class="bi bi-shield-lock-fill"></i> A alteração de senha só pode ser feita pelo próprio usuário através da página de perfil.</p>

        <div class="d-grid gap-2 mt-4">
             <button type="submit" class="btn btn-primary btn-lg">Salvar Alterações</button>
             <a href="/users" class="btn btn-outline-secondary">Cancelar</a>
        </div>
    </form>
</div>